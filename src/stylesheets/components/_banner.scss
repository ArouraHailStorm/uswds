$theme-banner-font: sans;

#{$top-level-component}banner {
  @include u-bg($base-lighter);

  @include at-media('tablet') {
    @include u-padding-bottom(0);
    @include u-size($theme-banner-font, 3xs);
  }
}

#{$top-level-component}banner-content {
  @include grid-container($site-max-width);
  @include u-bg(transparent);
  @include u-padding-bottom(1.5);
  @include u-padding-top(2px);
  @include u-padding-x(1);
  @include u-size($theme-banner-font, 3);
  @include u-width(full);

  @include at-media('tablet') {
    @include u-padding-y(3);
  }

  @include at-media('desktop') {
    @include u-padding-x($theme-site-margins);
  }

  p:first-child {
    @include u-margin(0);
  }
}

#{$top-level-component}banner-guidance-gov {
  @include u-padding-top(2);

  @include at-media('tablet') {
    @include u-padding-top(0);
  }
}

#{$top-level-component}banner-guidance-ssl {
  @include u-padding-top(2);

  @include at-media('tablet') {
    @include u-padding-top(0);
  }
}

#{$top-level-component}banner-inner {
  @include grid-container($site-max-width);
  @include grid-row;
  @include u-flex(align-start);
  @include u-padding-left($theme-site-margins-mobile);
  @include u-padding-right(0);
  @include u-padding-x(1);

  @include at-media('tablet') {
    @include u-flex(align-center);
  }

  @include at-media('desktop') {
    @include u-padding-x($theme-site-margins);
  }
}

#{$top-level-component}banner-header {
  @include u-padding-y(1);
  @include u-position(relative);
  @include u-size($theme-banner-font, 1);
  @include u-text(normal);

  @include at-media('tablet') {
    @include u-padding-y(.5);
  }

  &-close-text {
    @include u-display(none);
    @include u-line-height($theme-banner-font, 2);
    @include u-margin-y(0);
    @include u-padding-top(.5);
    @include u-size($theme-banner-font, 1);
    @include u-text($base-dark);
  }

  &-text {
    @include u-line-height($theme-banner-font, 2);
    @include u-margin-y(0);
    @include u-size($theme-banner-font, 1);
  }

  &-action {
    @include add-icon(angle-arrow-down-primary, after, spacing(1), 0, hover);
    @include u-line-height($theme-banner-font, 2);
    @include u-margin-bottom(0);
    @include u-margin-top(2px);
    @include u-text($primary);

    @include at-media('tablet') {
      @include u-display(none);
    }

    &:after {
      @include u-margin-left(.5);
    }
  }

  &-flag {
    @include u-float('left');
    @include u-margin-right(1);
    @include u-width(2);

    @include at-media('tablet') {
      @include u-margin-right(1);
      @include u-padding-top(0);
    }
  }
}

#{$top-level-component}banner-header-expanded {
  @include u-minh(4);

  @include at-media('tablet') {
    @include u-display(block);
    @include u-minh(0);
    @include u-padding-right(0);
    @include u-size($theme-banner-font, 1);
    @include u-text(normal);
  }

  .#{ns('component')}banner-header-close-text {
    @include u-display(block);

    @include at-media('tablet') {
      @include u-display(none);
    }
  }

  .#{ns('component')}banner-header-text {
    @include u-display('none');

    @include at-media('tablet') {
      @include u-display(block);
    }
  }

  .#{ns('component')}banner-header-action {
    @include u-display(none);
  }

  .#{ns('component')}banner-header-flag {
    @include u-display(none);

    @include at-media('tablet') {
      @include u-display(block);
    }
  }

  > .#{ns('component')}banner-inner {
    @include u-margin-left(0);

    @include at-media('tablet') {
      @include u-margin-left(auto);
    }
  }
}

#{$top-level-component}banner-button {
  @include add-pin(left);
  @include button-unstyled;
  @include u-display(block);
  @include u-height(auto);
  @include u-line-height($theme-banner-font, 2);
  @include u-padding-top(0);
  @include u-padding-left(0);
  @include u-size($theme-banner-font, 1);
  @include u-text($primary, underline, baseline);
  @include u-width(full);

  @include at-media('tablet') {
    @include add-pin(none);
    @include add-icon(angle-arrow-down-primary, after, spacing(1), 0, hover);
    @include u-display(inline);
    @include u-margin-left(1);
    @include u-position(relative);
    @include u-width(auto);

    &::after {
      @include u-margin-left(.5);
    }

    &:hover {
      @include u-text($primary-darker, underline);
    }
  }

  /* stylelint-disable selector-no-qualifying-type */

  &[aria-expanded=false] {
    background-image: none;
  }

  &[aria-expanded=true] {
    @include add-icon(close, after, spacing(1.5), 0, no-hover);
    background-image: none;

    @include at-media('tablet') {
      @include add-icon(angle-arrow-up-primary, after, spacing(1), 0, hover);
      @include u-height(auto);
      @include u-padding(0);
      @include u-position(relative);
      &::after {
        @include u-margin-left(.5);
      }
    }

    /* stylelint-enable */

    &::after {
      @include u-position(absolute);
      @include u-right(2);
      @include u-top(1.5);

      @include at-media('tablet') {
        @include u-position(static);
      }
    }
  }
}

#{$top-level-component}banner-button-text {
  @include add-sr-only;

  @include at-media('tablet') {
    @include add-no-sr-only;
    @include u-display(inline);
  }
}

#{$top-level-component}banner-icon {
  @include u-width(5);
}
